<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡πÄ‡∏Å‡∏°‡∏ó‡∏≤‡∏¢‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡πÅ‡∏™‡∏ô‡∏™‡∏ô‡∏∏‡∏Å üåà</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Mitr:wght@400;700&display=swap');

        :root {
            --pastel-pink: #FFB6C1;
            --pastel-blue: #ADD8E6;
            --pastel-green: #98FB98;
            --pastel-yellow: #FFFACD;
            --pastel-purple: #E6E6FA;
            --text-color: #333;
            --correct-color: #4CAF50;
            --wrong-color: #F44336;
            --locked-color: #D3D3D3;
        }

        body {
            font-family: 'Mitr', sans-serif;
            /* ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏†‡∏≤‡∏û‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà */
            background-image: url('https://raw.githubusercontent.com/Nitiwat-Nai/my-image-host/refs/heads/main/Match.jpg'); /* **‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô URL ‡∏ô‡∏µ‡πâ‡∏î‡πâ‡∏ß‡∏¢‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì** */
            background-size: cover; /* ‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏•‡∏∏‡∏°‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î */
            background-position: center; /* ‡∏à‡∏±‡∏î‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏Å‡∏∂‡πà‡∏á‡∏Å‡∏•‡∏≤‡∏á */
            background-repeat: no-repeat; /* ‡πÑ‡∏°‡πà‡∏ã‡πâ‡∏≥‡∏†‡∏≤‡∏û */
            background-attachment: fixed; /* ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏†‡∏≤‡∏û‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏±‡∏ö‡∏ó‡∏µ‡πà‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ */
            
            color: var(--text-color);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            text-align: center;
            padding: 20px;
        }

        .container {
            background-color: rgba(255, 255, 255, 0.6); /* ‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÇ‡∏õ‡∏£‡πà‡∏á‡πÉ‡∏™‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢ */
            padding: 40px;
            border-radius: 25px;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
            width: 90%;
            max-width: 700px;
            position: relative;
            border: 5px solid var(--pastel-purple);
        }

        h1 {
            font-size: 3rem;
            color: var(--pastel-pink);
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
            margin-bottom: 25px;
        }

        #start-screen, #level-select-screen, #game-area, #result-screen, #name-input-screen, #login-screen, #matching-game-area, #matching-result-screen, #mode-select-screen {
            display: none;
            animation: fadeIn 1s ease-in-out;
        }
        
        #leaderboard-table-container {
             display: flex;
             justify-content: center;
             margin-bottom: 20px;
        }
        
        .leaderboard-toggle-button {
            padding: 10px 20px;
            margin: 0 5px;
            background-color: var(--pastel-yellow);
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1.2rem;
        }

        .leaderboard-toggle-button.active {
            background-color: #FFD700;
            font-weight: bold;
        }

        .main-button, .level-button {
            background-color: var(--pastel-pink);
            color: white;
            border: none;
            padding: 18px 40px;
            font-size: 1.8rem;
            border-radius: 15px;
            cursor: pointer;
            transition: transform 0.3s ease, background-color 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin: 10px;
        }

        .main-button:hover, .level-button:not(.locked):hover {
            transform: translateY(-5px) scale(1.05);
            background-color: #FF69B4;
        }

        .level-button.locked {
            background-color: var(--locked-color);
            cursor: not-allowed;
        }

        .level-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .level-button {
            padding: 20px;
            font-size: 2rem;
        }

        #question {
            font-size: 2.5rem;
            font-weight: bold;
            color: var(--text-color);
            margin-bottom: 30px;
        }

        #game-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        #level-display {
            font-size: 2rem;
            color: var(--pastel-pink);
            font-weight: bold;
        }

        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .option-button, .matching-button {
            background-color: var(--pastel-blue);
            color: black;
            border: 3px solid var(--pastel-purple);
            padding: 20px;
            font-size: 1.5rem;
            font-weight: 700;
            border-radius: 15px;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.3s ease;
        }
        
        .matching-button.selected {
            background-color: #9370DB;
            color: white;
            transform: scale(1.05);
        }

        .matching-button.correct {
            background-color: var(--correct-color);
            color: white;
            border-color: var(--correct-color);
        }
        
        .matching-button.matched {
             pointer-events: none; /* Disable click after matched */
        }
        
        .option-button:hover, .matching-button:not(.matched):hover {
            transform: scale(1.05);
            background-color: #87CEFA;
        }

        .option-button:disabled, .matching-button:disabled {
            cursor: not-allowed;
            opacity: 0.7;
        }

        .correct {
            background-color: var(--correct-color) !important;
            border-color: var(--correct-color) !important;
            color: white !important;
        }

        .wrong {
            background-color: var(--wrong-color) !important;
            border-color: var(--wrong-color) !important;
            color: white !important;
        }

        #score-area, #timer-area {
            font-size: 2rem;
            font-weight: bold;
        }
        
        .matching-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 20px;
        }
        
        .matching-button {
            padding: 15px;
            font-size: 1.2rem;
        }

        #score-area {
            color: var(--text-color);
        }

        #timer-area {
            color: var(--wrong-color);
            background-color: var(--pastel-yellow);
            border-radius: 50%;
            width: 70px;
            height: 70px;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .matching-timer-area {
             color: var(--wrong-color);
             font-size: 2rem;
             font-weight: bold;
             background-color: var(--pastel-yellow);
             border-radius: 50%;
             width: 70px;
             height: 70px;
             display: flex;
             justify-content: center;
             align-items: center;
             box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
             margin: 0 auto 20px;
        }

        #pause-resume-buttons {
            margin-top: 20px;
        }

        #pause-button, #resume-button, #home-button, #level-select-button {
            background-color: var(--pastel-yellow);
            color: var(--text-color);
            font-size: 1.2rem;
            padding: 10px 20px;
            border-radius: 10px;
            border: 2px solid #FFD700;
            margin: 5px;
        }

        #pause-button:hover, #resume-button:hover, #home-button:hover, #level-select-button:hover {
            background-color: #FFECB3;
        }

        #result-screen h2, #matching-result-screen h2 {
            font-size: 3rem;
            color: var(--pastel-pink);
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        #final-score, #matching-final-score {
            font-size: 4rem;
            color: var(--correct-color);
            margin: 15px 0;
        }

        #restart-button {
            margin-top: 25px;
        }

        /* Leaderboard styles */
        .leaderboard-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        .leaderboard-table th, .leaderboard-table td {
            padding: 10px;
            border-bottom: 1px solid #ddd;
            text-align: left;
        }

        .leaderboard-table th {
            background-color: var(--pastel-blue);
            color: white;
        }

        .leaderboard-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }

        .leaderboard-table tr:hover {
            background-color: #f1f1f1;
        }

        /* Name input styles */
        #name-input, #login-name-input {
            padding: 10px;
            font-size: 1.5rem;
            border-radius: 10px;
            border: 2px solid var(--pastel-purple);
            width: 80%;
            margin: 20px 0;
            text-align: center;
        }
        
        .hidden-table {
            display: none;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
    </style>
</head>
<body>
    <div class="container">

        <div id="start-screen">
            <h1>‡πÄ‡∏Å‡∏°‡∏ó‡∏≤‡∏¢‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡πÅ‡∏™‡∏ô‡∏™‡∏ô‡∏∏‡∏Å üåà</h1>
            <p style="font-size:1.5rem;">‡∏°‡∏≤‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©‡∏Å‡∏±‡∏ô‡πÄ‡∏ñ‡∏≠‡∏∞!</p>
            <div id="leaderboard">
                <h3>üèÜ ‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏¢‡∏≠‡∏î‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏° üèÜ</h3>
                <div id="leaderboard-table-container">
                    <button id="mc-leaderboard-button" class="leaderboard-toggle-button active">‡πÇ‡∏´‡∏°‡∏î‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏≠‡∏ö</button>
                    <button id="matching-leaderboard-button" class="leaderboard-toggle-button">‡πÇ‡∏´‡∏°‡∏î‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà</button>
                </div>
                
                <table id="mc-leaderboard-table" class="leaderboard-table">
                    <thead>
                        <tr>
                            <th>‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö</th>
                            <th>‡∏ä‡∏∑‡πà‡∏≠</th>
                            <th>‡πÄ‡∏•‡πÄ‡∏ß‡∏•</th>
                            <th>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</th>
                            <th>‡πÄ‡∏ß‡∏•‡∏≤</th>
                        </tr>
                    </thead>
                    <tbody id="mc-leaderboard-body">
                        </tbody>
                </table>
                
                <table id="matching-leaderboard-table" class="leaderboard-table hidden-table">
                    <thead>
                        <tr>
                            <th>‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö</th>
                            <th>‡∏ä‡∏∑‡πà‡∏≠</th>
                            <th>‡πÄ‡∏ß‡∏•‡∏≤</th>
                        </tr>
                    </thead>
                    <tbody id="matching-leaderboard-body">
                        </tbody>
                </table>
            </div>
            <button id="start-button" class="main-button">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°</button>
            <button id="resume-last-game-button" class="main-button" style="display:none;">‡πÄ‡∏•‡πà‡∏ô‡∏ï‡πà‡∏≠‡∏à‡∏≤‡∏Å‡πÄ‡∏î‡∏¥‡∏°</button>
        </div>
        
        <div id="mode-select-screen">
            <h1>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏´‡∏°‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô</h1>
            <button id="multiple-choice-mode-button" class="main-button">‡πÇ‡∏´‡∏°‡∏î‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</button>
            <button id="matching-mode-button" class="main-button">‡πÇ‡∏´‡∏°‡∏î‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà</button>
            <button id="go-to-home-from-mode-select" class="main-button">‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</button>
        </div>

        <div id="name-input-screen">
            <h2>‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏ä‡∏∑‡πà‡∏≠‡πÉ‡∏´‡∏°‡πà</h2>
            <input type="text" id="name-input" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà">
            <button id="submit-name-button" class="main-button">‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡πÄ‡∏•‡∏¢</button>
            <button id="go-to-login-button" class="main-button">‡∏â‡∏±‡∏ô‡πÄ‡∏Ñ‡∏¢‡πÄ‡∏•‡πà‡∏ô‡πÅ‡∏•‡πâ‡∏ß</button>
        </div>

        <div id="login-screen">
            <h2>‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</h2>
            <input type="text" id="login-name-input" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏î‡∏¥‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì">
            <button id="login-button" class="main-button">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
            <button id="go-to-signup-button" class="main-button">‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏ä‡∏∑‡πà‡∏≠‡πÉ‡∏´‡∏°‡πà</button>
        </div>

        <div id="level-select-screen">
            <h1>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏•‡πÄ‡∏ß‡∏•</h1>
            <div id="level-grid" class="level-grid"></div>
            <button id="go-to-home-from-level-select" class="main-button">‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</button>
        </div>

        <div id="game-area">
            <div id="game-info">
                <div id="score-area"><span id="score">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: 0</span> / 30</div>
                <div id="level-display">‡πÄ‡∏•‡πÄ‡∏ß‡∏•: 1</div>
                <div id="timer-area">
                    <span id="countdown">10</span>
                </div>
            </div>
            <h2 id="question"></h2>
            <div class="options-grid" id="options-container"></div>
            <div id="pause-resume-buttons">
                <button id="pause-button">‡∏´‡∏¢‡∏∏‡∏î‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß</button>
                <button id="resume-button" style="display:none;">‡πÄ‡∏•‡πà‡∏ô‡∏ï‡πà‡∏≠</button>
                <button id="level-select-button" style="display:none;">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏•‡πÄ‡∏ß‡∏•</button>
                <button id="home-button" style="display:none;">‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</button>
            </div>
        </div>
        
        <div id="matching-game-area">
            <h2 id="matching-title">‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå</h2>
            <div id="matching-timer-area" class="matching-timer-area">
                <span id="matching-countdown">0</span>
            </div>
            <div id="matching-grid" class="options-grid"></div>
        </div>

        <div id="result-screen">
            <h2>‡∏à‡∏ö‡πÄ‡∏•‡πÄ‡∏ß‡∏•!</h2>
            <p style="font-size:1.5rem;">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÉ‡∏ô‡πÄ‡∏•‡πÄ‡∏ß‡∏•‡∏ô‡∏µ‡πâ:</p>
            <div id="final-score">0</div>
            <p id="result-message"></p>
            <button id="continue-button" class="main-button" style="display:none;">‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏•‡πÄ‡∏ß‡∏•‡∏ñ‡∏±‡∏î‡πÑ‡∏õ</button>
            <button id="restart-button" class="main-button">‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏•‡πÄ‡∏ß‡∏•</button>
        </div>
        
        <div id="matching-result-screen">
            <h2>‡∏¢‡∏≠‡∏î‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°!</h2>
            <p style="font-size:1.5rem;">‡∏Ñ‡∏∏‡∏ì‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡πÑ‡∏õ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î:</p>
            <div id="matching-final-score">0 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</div>
            <button id="play-again-matching-button" class="main-button">‡πÄ‡∏•‡πà‡∏ô‡∏ï‡πà‡∏≠</button>
            <button id="matching-restart-button" class="main-button">‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</button>
        </div>
    </div>

    <script>
        // ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡πÅ‡∏ö‡πà‡∏á‡πÄ‡∏õ‡πá‡∏ô 10 ‡πÄ‡∏•‡πÄ‡∏ß‡∏• (30 ‡∏Ñ‡∏≥/‡πÄ‡∏•‡πÄ‡∏ß‡∏•)
        const allWords = [
            // Level 1
            [{ thai: "‡∏ï‡∏ô‡πÄ‡∏≠‡∏á", english: "self" }, { thai: "‡∏™‡∏π‡∏á", english: "tall" }, { thai: "‡πÄ‡∏ï‡∏µ‡πâ‡∏¢", english: "short" }, { thai: "‡∏Ñ‡∏•‡πâ‡∏≥, ‡πÄ‡∏Ç‡πâ‡∏° (‡∏™‡∏µ), ‡∏°‡∏∑‡∏î", english: "dark" }, { thai: "‡∏™‡∏ß‡πà‡∏≤‡∏á, ‡∏≠‡πà‡∏≠‡∏ô(‡∏™‡∏µ)", english: "light" }, { thai: "‡∏â‡∏•‡∏≤‡∏î", english: "smart" }, { thai: "‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç", english: "happy" }, { thai: "‡πÄ‡∏™‡∏µ‡∏¢‡πÉ‡∏à", english: "sad" }, { thai: "‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å, ‡∏™‡∏ß‡∏¢", english: "pretty" }, { thai: "‡∏ó‡∏±‡πà‡∏ß‡πÜ‡πÑ‡∏õ, ‡πÇ‡∏î‡∏¢‡∏õ‡∏Å‡∏ï‡∏¥", english: "average" }, { thai: "‡∏™‡∏á‡∏ö‡πÄ‡∏á‡∏µ‡∏¢‡∏ö", english: "calm" }, { thai: "‡∏≠‡πâ‡∏ß‡∏ô", english: "fat" }, { thai: "‡πÅ‡∏Å‡πà, ‡∏™‡∏π‡∏á‡∏≠‡∏≤‡∏¢‡∏∏", english: "old" }, { thai: "‡πÄ‡∏î‡πá‡∏Å, ‡∏ú‡∏π‡πâ‡πÄ‡∏¢‡∏≤‡∏ß‡πå", english: "young" }, { thai: "‡πÉ‡∏´‡∏ç‡πà", english: "big" }, { thai: "‡πÅ‡∏°‡πà", english: "mom" }, { thai: "‡∏û‡πà‡∏≠", english: "dad" }, { thai: "‡∏¢‡πà‡∏≤, ‡∏¢‡∏≤‡∏¢", english: "grandma" }, { thai: "‡∏õ‡∏π‡πà, ‡∏ï‡∏≤", english: "grandpa" }, { thai: "‡∏û‡∏µ‡πà‡∏ä‡∏≤‡∏¢, ‡∏ô‡πâ‡∏≠‡∏á‡∏ä‡∏≤‡∏¢", english: "brother" }, { thai: "‡∏û‡∏µ‡πà‡∏™‡∏≤‡∏ß, ‡∏ô‡πâ‡∏≠‡∏á‡∏™‡∏≤‡∏ß", english: "sister" }, { thai: "‡∏≠‡∏≤‡∏ú‡∏π‡πâ‡∏´‡∏ç‡∏¥‡∏á, ‡∏õ‡πâ‡∏≤", english: "aunt" }, { thai: "‡∏û‡∏µ‡πà‡∏ô‡πâ‡∏≠‡∏á", english: "sibling" }, { thai: "‡∏•‡∏π‡∏Å‡∏û‡∏µ‡πà‡∏•‡∏π‡∏Å‡∏ô‡πâ‡∏≠‡∏á", english: "cousin" }, { thai: "‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤‡∏™‡∏∞‡∏û‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏á", english: "backpack" }, { thai: "‡∏õ‡∏≤‡∏Å‡∏Å‡∏≤", english: "pen" }, { thai: "‡πÄ‡∏Å‡πâ‡∏≤‡∏≠‡∏µ‡πâ", english: "chair" }, { thai: "‡πÇ‡∏ï‡πä‡∏∞", english: "desk" }, { thai: "‡∏î‡∏¥‡∏ô‡∏™‡∏≠", english: "pencil" }, { thai: "‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠", english: "book" }],
            // Level 2
            [{ thai: "‡πÑ‡∏°‡πâ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î", english: "ruler" }, { thai: "‡∏¢‡∏≤‡∏á‡∏•‡∏ö", english: "eraser" }, { thai: "‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà", english: "map" }, { thai: "‡πÇ‡∏ï‡πä‡∏∞", english: "table" }, { thai: "‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà", english: "place" }, { thai: "‡πÄ‡∏Å‡∏£‡∏î, ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô", english: "grade" }, { thai: "‡∏û‡∏π‡∏î, ‡∏ö‡∏£‡∏£‡∏¢‡∏≤‡∏¢", english: "speak" }, { thai: "‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô", english: "write" }, { thai: "‡∏™‡∏µ‡πÄ‡∏ó‡∏µ‡∏¢‡∏ô", english: "crayon" }, { thai: "‡∏™‡∏°‡∏∏‡∏î", english: "notebook" }, { thai: "‡πÇ‡∏õ‡∏™‡πÄ‡∏ï‡∏≠‡∏£‡πå, ‡∏õ‡πâ‡∏≤‡∏¢‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®", english: "poster" }, { thai: "‡∏û‡∏π‡∏î‡∏Ñ‡∏∏‡∏¢, ‡∏™‡∏ô‡∏ó‡∏ô‡∏≤", english: "talk" }, { thai: "‡∏ü‡∏±‡∏á", english: "listen" }, { thai: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î", english: "thought" }, { thai: "‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ, ‡∏®‡∏∂‡∏Å‡∏©‡∏≤", english: "learn" }, { thai: "‡∏™‡∏≤‡∏Ç‡∏≤, ‡∏ß‡∏¥‡∏ä‡∏≤", english: "subject" }, { thai: "‡∏ó‡∏≤‡∏™‡∏µ, ‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏™‡∏µ", english: "paint" }, { thai: "‡∏£‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏•‡∏á", english: "sing" }, { thai: "‡∏ñ‡∏≤‡∏°, ‡∏Ç‡∏≠", english: "ask" }, { thai: "‡∏ä‡∏≠‡∏•‡πå‡∏Ñ", english: "chalk" }, { thai: "‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©", english: "paper" }, { thai: "‡∏õ‡∏£‡∏ö‡∏°‡∏∑‡∏≠", english: "clap" }, { thai: "‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏ß", english: "turn" }, { thai: "‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç", english: "number" }, { thai: "‡πÇ‡∏£‡∏á‡∏á‡∏≤‡∏ô", english: "factory" }, { thai: "‡∏£‡πâ‡∏≤‡∏ô‡∏Ç‡∏≤‡∏¢‡∏Ç‡∏ô‡∏°‡∏õ‡∏±‡∏á", english: "bakery" }, { thai: "‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç", english: "coin" }, { thai: "‡πÇ‡∏£‡∏á‡∏¢‡∏¥‡∏°", english: "gym" }, { thai: "‡∏Ñ‡∏•‡∏µ‡∏ô‡∏¥‡∏Ñ", english: "clinic" }, { thai: "‡∏£‡πâ‡∏≤‡∏ô‡∏Ç‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á", english: "store" }],
            // Level 3
            [{ thai: "‡∏î‡∏≠‡∏Å‡πÑ‡∏°‡πâ", english: "flowers" }, { thai: "‡πÄ‡∏°‡∏Ü", english: "clouds" }, { thai: "‡∏´‡∏ç‡πâ‡∏≤", english: "grass" }, { thai: "‡πÉ‡∏ö‡πÑ‡∏°‡πâ", english: "leaf" }, { thai: "‡∏¢‡∏∑‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô", english: "stand up" }, { thai: "‡∏ô‡∏±‡πà‡∏á", english: "sit" }, { thai: "‡∏ß‡∏¥‡πà‡∏á", english: "run" }, { thai: "‡∏ß‡∏≤‡∏á", english: "put" }, { thai: "‡∏ä‡∏µ‡πâ", english: "point" }, { thai: "‡∏à‡∏≥", english: "remember" }, { thai: "‡∏ó‡∏±‡∏Å‡∏ó‡∏≤‡∏¢", english: "greet" }, { thai: "‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤", english: "find" }, { thai: "‡∏ó‡∏ö‡∏ó‡∏ß‡∏ô", english: "review" }, { thai: "‡∏ô‡∏±‡∏ö", english: "count" }, { thai: "‡πÑ‡∏õ", english: "go" }, { thai: "‡∏°‡∏≠‡∏á, ‡∏°‡∏≠‡∏á‡∏î‡∏π", english: "look" }, { thai: "‡πÄ‡∏•‡∏µ‡∏¢‡∏ô‡πÅ‡∏ö‡∏ö, ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å", english: "copy" }, { thai: "‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏ô", english: "board" }, { thai: "‡∏õ‡∏≤‡∏Å‡∏Å‡∏≤‡πÄ‡∏ô‡πâ‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°", english: "marker" }, { thai: "‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤", english: "solve" }, { thai: "‡∏¢‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô", english: "raise" }, { thai: "‡∏´‡∏¢‡∏¥‡∏ö", english: "pick up" }, { thai: "‡∏™‡∏ß‡∏ô‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏∞", english: "park" }, { thai: "‡∏ö‡πâ‡∏≤‡∏ô", english: "house" }, { thai: "‡∏™‡∏ô‡∏≤‡∏°‡πÄ‡∏î‡πá‡∏Å‡πÄ‡∏•‡πà‡∏ô", english: "playground" }, { thai: "‡∏î‡∏ß‡∏á‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå", english: "sun" }, { thai: "‡πÅ‡∏™‡∏á‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå", english: "sunlight" }, { thai: "‡∏≠‡∏≤‡∏Å‡∏≤‡∏®", english: "air" }, { thai: "‡∏ö‡∏£‡∏¥‡∏™‡∏∏‡∏ó‡∏ò‡∏¥‡πå, ‡∏™‡∏∞‡∏≠‡∏≤‡∏î, ‡∏™‡∏î‡∏ä‡∏∑‡πà‡∏ô", english: "fresh" }, { thai: "‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ", english: "tree" }],
            // Level 4
            [{ thai: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏°‡∏î‡∏∏‡∏•", english: "balance" }, { thai: "‡∏™‡∏¥‡πà‡∏á‡∏™‡∏Å‡∏õ‡∏£‡∏Å", english: "dirt" }, { thai: "‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô", english: "protect" }, { thai: "‡∏î‡∏¥‡∏ô", english: "soil" }, { thai: "‡∏Ç‡∏¢‡∏∞", english: "garbage" }, { thai: "‡∏™‡∏∞‡∏≠‡∏≤‡∏î", english: "clean" }, { thai: "‡∏û‡∏∑‡∏ä", english: "plant" }, { thai: "‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å", english: "plastic" }, { thai: "‡∏Ç‡∏ß‡∏î", english: "bottle" }, { thai: "‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç", english: "important" }, { thai: "‡∏ù‡∏ô", english: "rain" }, { thai: "‡∏´‡∏¥‡∏°‡∏∞", english: "snow" }, { thai: "‡∏™‡∏ß‡∏ô", english: "garden" }, { thai: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πâ‡∏≠‡∏ô, ‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡∏£‡πâ‡∏≠‡∏ô", english: "heat" }, { thai: "‡∏£‡πâ‡∏≠‡∏ô", english: "hot" }, { thai: "‡∏≠‡∏±‡∏ô‡∏ï‡∏£‡∏≤‡∏¢", english: "danger" }, { thai: "‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï", english: "grow" }, { thai: "‡∏ú‡∏¥‡∏ß‡∏´‡∏ô‡∏±‡∏á", english: "skin" }, { thai: "‡∏™‡∏±‡∏ï‡∏ß‡πå", english: "animal" }, { thai: "‡πÄ‡πÄ‡∏Ç‡πá‡∏á‡πÅ‡∏£‡∏á", english: "strong" }, { thai: "‡∏•‡∏°", english: "wind" }, { thai: "‡∏ä‡πà‡∏ß‡∏¢‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï, ‡∏õ‡∏Å‡∏õ‡πâ‡∏≠‡∏á, ‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡∏£‡∏≠‡∏á", english: "save" }, { thai: "‡∏ä‡∏≤‡∏¢‡∏´‡∏≤‡∏î", english: "beach" }, { thai: "‡πÄ‡∏≠‡∏≤‡∏≠‡∏≠‡∏Å", english: "remove" }, { thai: "‡∏´‡∏¢‡∏∏‡∏î", english: "stop" }, { thai: "‡∏ú‡∏•‡πÑ‡∏°‡πâ", english: "fruits" }, { thai: "‡πÇ‡∏•‡∏Å", english: "Earth" }, { thai: "‡∏ã‡∏∂‡πà‡∏á‡∏ó‡∏≥‡∏ó‡∏µ‡πà‡∏ö‡πâ‡∏≤‡∏ô", english: "homemade" }, { thai: "‡∏´‡∏¥‡∏ß", english: "hungry" }, { thai: "‡πÅ‡∏ï‡∏á‡πÇ‡∏°", english: "watermelon" }],
            // Level 5
            [{ thai: "‡∏ï‡∏±‡∏î‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ú‡πà‡∏ô‡∏ö‡∏≤‡∏á‡πÜ", english: "slice" }, { thai: "‡∏Ç‡πâ‡∏≤‡∏ß", english: "rice" }, { thai: "‡∏Ç‡∏ô‡∏°‡∏õ‡∏±‡∏á", english: "bread" }, { thai: "‡πÄ‡∏Ç‡∏¢‡πà‡∏≤", english: "shake" }, { thai: "‡πÑ‡∏Ç‡πà", english: "egg" }, { thai: "‡∏û‡∏¥‡∏ã‡∏ã‡πà‡∏≤", english: "pizza" }, { thai: "‡πÄ‡∏Ñ‡πâ‡∏Å", english: "cake" }, { thai: "‡∏™‡∏•‡∏±‡∏î", english: "salad" }, { thai: "‡πÑ‡∏Å‡πà", english: "chicken" }, { thai: "‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏ß‡∏±‡∏ß", english: "beef" }, { thai: "‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏°‡∏π", english: "pork" }, { thai: "‡∏õ‡∏•‡∏≤", english: "fish" }, { thai: "‡∏Å‡∏•‡πâ‡∏ß‡∏¢", english: "banana" }, { thai: "‡∏™‡πâ‡∏°", english: "orange" }, { thai: "‡πÅ‡∏≠‡∏õ‡πÄ‡∏õ‡∏¥‡πâ‡∏•", english: "apple" }, { thai: "‡∏°‡∏∞‡∏•‡∏∞‡∏Å‡∏≠", english: "papaya" }, { thai: "‡∏™‡∏±‡∏ö‡∏õ‡∏∞‡∏£‡∏î", english: "pineapple" }, { thai: "‡∏™‡∏ï‡∏≠‡πÄ‡∏ö‡∏≠‡∏£‡∏µ‡πà", english: "strawberry" }, { thai: "‡∏≠‡∏á‡∏∏‡πà‡∏ô", english: "grape" }, { thai: "‡∏™‡∏õ‡∏≤‡πÄ‡∏Å‡πá‡∏ï‡∏ï‡∏µ‡πâ", english: "spaghetti" }, { thai: "‡πÑ‡∏≠‡∏®‡∏Å‡∏£‡∏µ‡∏°", english: "ice cream" }, { thai: "‡∏Ñ‡∏±‡∏û‡πÄ‡∏Ñ‡πâ‡∏Å", english: "cupcake" }, { thai: "‡∏Ñ‡∏∏‡∏Å‡∏Å‡∏µ‡πâ", english: "cookie" }, { thai: "‡πÅ‡∏ã‡∏ô‡∏ß‡∏¥‡∏ä", english: "sandwich" }, { thai: "‡∏ú‡∏±‡∏Å", english: "vegetable" }, { thai: "‡∏•‡πâ‡∏≤‡∏á", english: "wash" }, { thai: "‡∏°‡∏±‡∏ô‡∏ù‡∏£‡∏±‡πà‡∏á‡∏ó‡∏≠‡∏î", english: "fries" }, { thai: "‡πÄ‡∏ö‡∏≠‡πÄ‡∏Å‡∏≠‡∏£‡πå", english: "burger" }, { thai: "‡πÅ‡∏û‡∏ô‡πÄ‡∏Ñ‡πâ‡∏Å", english: "pancakes" }, { thai: "‡∏°‡∏±‡∏ô‡∏ù‡∏£‡∏±‡πà‡∏á", english: "potatoes" }],
            // Level 6
            [{ thai: "‡πÄ‡∏Å‡∏•‡∏∑‡∏≠", english: "salt" }, { thai: "‡∏ä‡∏µ‡∏™", english: "cheese" }, { thai: "‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•", english: "sugar" }, { thai: "‡∏û‡∏≤‡∏™‡∏ï‡πâ‡∏≤", english: "pasta" }, { thai: "‡∏Æ‡∏≠‡∏ó‡∏î‡∏≠‡∏Å", english: "hot dog" }, { thai: "‡∏°‡∏∞‡πÄ‡∏Ç‡∏∑‡∏≠‡πÄ‡∏ó‡∏®", english: "tomato" }, { thai: "‡πÅ‡∏Ñ‡∏£‡∏≠‡∏ó", english: "carrot" }, { thai: "‡∏ô‡πâ‡∏≥", english: "water" }, { thai: "‡∏ô‡∏°", english: "milk" }, { thai: "‡∏ô‡πâ‡∏≥‡∏ú‡∏•‡πÑ‡∏°‡πâ", english: "juice" }, { thai: "‡∏ô‡πâ‡∏≥‡∏≠‡∏±‡∏î‡∏•‡∏°", english: "soda" }, { thai: "‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏°‡∏õ‡∏±‡πà‡∏ô‡∏ú‡∏™‡∏°‡∏ô‡∏° ‡πÅ‡∏•‡∏∞‡πÑ‡∏≠‡∏®‡∏Ñ‡∏£‡∏µ‡∏°", english: "milkshake" }, { thai: "‡∏Å‡∏≤‡πÅ‡∏ü", english: "coffee" }, { thai: "‡∏ä‡∏≤", english: "tea" }, { thai: "‡πÄ‡∏´‡∏•‡πâ‡∏≤‡∏≠‡∏á‡∏∏‡πà‡∏ô, ‡πÑ‡∏ß‡∏ô‡πå", english: "wine" }, { thai: "‡∏Å‡∏£‡∏∞‡∏´‡∏≤‡∏¢‡∏ô‡πâ‡∏≥", english: "thirsty" }, { thai: "‡πÇ‡∏Ñ‡πâ‡∏Å", english: "cola" }, { thai: "‡πÄ‡∏ö‡∏µ‡∏¢‡∏£‡πå", english: "beer" }, { thai: "‡∏ä‡∏≤‡πÄ‡∏¢‡πá‡∏ô", english: "ice tea" }, { thai: "‡∏Å‡∏¥‡∏ô", english: "eat" }, { thai: "‡∏ô‡∏≠‡∏ô", english: "sleep" }, { thai: "‡∏î‡∏∑‡πà‡∏°", english: "drink" }, { thai: "‡∏á‡∏µ‡∏ö", english: "nap" }, { thai: "‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô", english: "rest" }, { thai: "‡∏≠‡πà‡∏≤‡∏ô", english: "read" }, { thai: "‡∏õ‡∏£‡∏∏‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£", english: "cook" }, { thai: "‡πÄ‡∏î‡∏¥‡∏ô", english: "walk" }, { thai: "‡∏Ç‡∏±‡∏ö‡∏Ç‡∏≤‡∏ô, ‡∏™‡∏ß‡∏î, ‡∏ó‡πà‡∏≠‡∏á", english: "chant" }, { thai: "‡∏Å‡∏£‡∏∞‡πÇ‡∏î‡∏î‡∏Ç‡∏≤‡πÄ‡∏î‡∏µ‡∏¢‡∏ß", english: "hop" }, { thai: "‡∏Å‡∏£‡∏∞‡πÇ‡∏î‡∏î", english: "jump" }],
            // Level 7
            [{ thai: "‡∏Å‡∏≤‡∏£‡∏õ‡∏µ‡∏ô‡πÄ‡∏Ç‡∏≤", english: "mountaineering" }, { thai: "‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏Å‡πÅ‡∏£‡∏°", english: "camping" }, { thai: "‡∏Å‡∏µ‡∏¨‡∏≤‡πÇ‡∏ö‡∏ß‡πå‡∏•‡∏¥‡πà‡∏á", english: "bowling" }, { thai: "‡∏Å‡∏≤‡∏£‡∏Ç‡∏µ‡πà‡∏°‡πâ‡∏≤", english: "riding" }, { thai: "‡∏Å‡∏µ‡∏¨‡∏≤‡∏Ç‡∏µ‡πà‡∏à‡∏±‡∏Å‡∏£‡∏¢‡∏≤‡∏ô", english: "cycling" }, { thai: "‡∏Å‡∏≤‡∏£‡∏û‡∏≤‡∏¢‡πÄ‡∏£‡∏∑‡∏≠‡πÅ‡∏Ñ‡∏ô‡∏π", english: "canoeing" }, { thai: "‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÑ‡∏Å‡∏•‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏ó‡πâ‡∏≤", english: "hiking" }, { thai: "‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢", english: "exercise" }, { thai: "‡∏Å‡∏µ‡∏¨‡∏≤‡∏î‡∏≥‡∏ô‡πâ‡∏≥‡∏•‡∏∂‡∏Å", english: "diving" }, { thai: "‡∏î‡∏π", english: "watch" }, { thai: "‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏ô‡πÇ‡∏ï‡πâ‡∏Ñ‡∏•‡∏∑‡πà‡∏ô", english: "surfing" }, { thai: "‡πÄ‡∏•‡πà‡∏ô", english: "play" }, { thai: "‡∏Å‡∏≤‡∏£‡∏ã‡∏∑‡πâ‡∏≠‡∏Ç‡∏≠‡∏á", english: "shopping" }, { thai: "‡∏ï‡∏Å‡∏õ‡∏•‡∏≤", english: "fishing" }, { thai: "‡∏Å‡∏≤‡∏£‡∏ß‡πà‡∏≤‡∏¢‡∏ô‡πâ‡∏≥", english: "swimming" }, { thai: "‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πà‡∏á", english: "running" }, { thai: "‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô‡∏™‡∏Å‡∏µ", english: "skiing" }, { thai: "‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡πà‡∏ô‡πÄ‡∏£‡∏∑‡∏≠‡πÉ‡∏ö", english: "sailing" }, { thai: "‡∏Å‡∏≤‡∏£‡∏£‡πà‡∏≠‡∏á‡πÅ‡∏û,‡∏Å‡∏≤‡∏£‡∏•‡πà‡∏≠‡∏á‡πÅ‡∏Å‡πà‡∏á", english: "rafting" }, { thai: "‡∏Å‡∏≤‡∏£‡∏û‡∏≤‡∏¢‡πÄ‡∏£‡∏∑‡∏≠‡∏Ñ‡∏≤‡∏¢‡∏±‡∏Ñ", english: "kayaking" }, { thai: "‡∏Å‡∏µ‡∏¨‡∏≤‡∏™‡∏≥‡∏£‡∏ß‡∏à‡πÅ‡∏•‡∏∞‡∏õ‡∏µ‡∏ô‡∏ñ‡πâ‡∏≥", english: "caving" }, { thai: "‡∏Å‡∏µ‡∏¨‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÄ‡∏•‡πà‡∏ô‡∏™‡πÄ‡∏Å‡πá‡∏ï", english: "skating" }, { thai: "‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏µ‡∏¨‡∏≤‡∏™‡πÇ‡∏ô‡∏ß‡πå‡∏ö‡∏≠‡∏£‡πå‡∏î", english: "snowboarding" }, { thai: "‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏ó‡πà‡∏≠‡∏á‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏¢‡∏≤‡∏ô‡∏û‡∏≤‡∏´‡∏ô‡∏∞‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß‡πÉ‡∏´‡πâ‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡∏±‡∏°‡∏†‡∏≤‡∏£‡∏∞ ‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏à‡∏∞‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏≤‡∏á‡πÅ‡∏£‡∏°‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏Å‡πá‡∏ï‡∏≤‡∏°", english: "backpacking" }, { thai: "‡∏Å‡∏≤‡∏£‡∏•‡πà‡∏≤‡∏™‡∏±‡∏ï‡∏ß‡πå", english: "hunting" }, { thai: "‡∏Å‡∏µ‡∏¨‡∏≤", english: "sports" }, { thai: "‡∏á‡∏≤‡∏ô‡∏®‡∏¥‡∏•‡∏õ‡∏∞", english: "art" }, { thai: "‡∏á‡∏≤‡∏ô‡∏ù‡∏µ‡∏°‡∏∑‡∏≠, ‡∏´‡∏±‡∏ï‡∏ñ‡∏Å‡∏£‡∏£‡∏°", english: "craft" }, { thai: "‡∏á‡∏≠,‡πÇ‡∏Ñ‡πâ‡∏á, ‡∏î‡∏±‡∏î", english: "bend" }, { thai: "‡πÄ‡∏≠‡∏∑‡πâ‡∏≠‡∏°", english: "reach" }],
            // Level 8
            [{ thai: "‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏π‡∏õ, ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏û‡∏≠‡∏î‡∏µ", english: "fit" }, { thai: "‡∏õ‡∏µ‡∏Å", english: "wing" }, { thai: "‡∏™‡∏ß‡∏ô‡∏™‡∏±‡∏ï‡∏ß‡πå", english: "zoo" }, { thai: "‡πÅ‡∏ä‡πà", english: "soak" }, { thai: "‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á", english: "own" }, { thai: "‡∏ô‡∏¥‡∏ó‡∏≤‡∏ô", english: "tale" }, { thai: "‡∏™‡∏∏‡∏Å(‡∏ú‡∏•‡πÑ‡∏°‡πâ), ‡∏á‡∏≠‡∏°", english: "ripe" }, { thai: "‡πÄ‡∏™‡∏µ‡∏¢‡∏á", english: "voice" }, { thai: "‡∏à‡∏∏‡∏î‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î", english: "top" }, { thai: "‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡∏¥‡∏¢‡∏°", english: "pop" }, { thai: "‡∏Ñ‡∏¥‡∏î", english: "think" }, { thai: "‡∏•‡∏á‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô", english: "vote" }, { thai: "‡πÉ‡∏ä‡πâ", english: "use" }, { thai: "‡πÑ‡∏°‡πâ", english: "wood" }, { thai: "‡∏ö‡πâ‡∏≤‡∏á, ‡∏™‡∏¥‡πà‡∏á‡πÉ‡∏î‡∏™‡∏¥‡πà‡∏á‡∏´‡∏ô‡∏∂‡πà‡∏á", english: "any" }, { thai: "‡∏ö‡∏≤‡∏á", english: "thin" }, { thai: "‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á, ‡∏ß‡∏≤‡∏á, ‡∏Å‡∏≥‡∏´‡∏ô‡∏î", english: "set" }, { thai: "‡∏ã‡πà‡∏≠‡∏°", english: "repair" }, { thai: "‡∏•‡∏∏‡∏á", english: "uncle" }, { thai: "‡∏ú‡πâ‡∏≤‡∏û‡∏±‡∏ô‡∏Ñ‡∏≠", english: "scarf" }, { thai: "‡πÅ‡∏ñ‡∏ß", english: "row" }, { thai: "‡πÄ‡∏ó", english: "pour" }, { thai: "‡∏ô‡πà‡∏≤‡πÄ‡∏Å‡∏•‡∏µ‡∏¢‡∏î", english: "ugly" }, { thai: "‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏π‡∏õ‡πÑ‡∏Ç‡πà,‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏π‡∏õ‡∏£‡∏µ", english: "oval" }, { thai: "‡πÄ‡∏£‡πá‡∏ß", english: "quick" }, { thai: "‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á", english: "pet" }, { thai: "‡πÄ‡∏á‡∏µ‡∏¢‡∏ö", english: "quiet" }, { thai: "‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô", english: "race" }, { thai: "‡∏•‡∏≥‡∏ï‡πâ‡∏ô", english: "stem" }, { thai: "‡∏£‡πâ‡∏≠‡∏¢‡∏Å‡∏£‡∏≠‡∏á, ‡∏Å‡∏•‡∏≠‡∏ô", english: "verse" }],
            // Level 9
            [{ thai: "‡πÄ‡∏õ‡πá‡∏ô‡∏•‡∏≠‡∏ô", english: "wavy" }, { thai: "‡∏õ‡πà‡∏ß‡∏¢", english: "sick" }, { thai: "‡∏´‡∏≤‡∏ß", english: "yawn" }, { thai: "‡∏õ‡∏•‡∏≤‡∏¢", english: "tip" }, { thai: "‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå‡πÄ‡∏™‡∏µ‡∏¢", english: "upset" }, { thai: "‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•", english: "prize" }, { thai: "‡∏ß‡∏±‡∏ô", english: "day" }, { thai: "‡∏ã‡∏∂‡πà‡∏á‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏õ‡πà‡∏≤", english: "wild" }, { thai: "‡∏à‡∏∏‡∏î", english: "dot" }, { thai: "‡πÇ‡∏¢‡πÄ‡∏Å‡∏¥‡∏£‡πå‡∏ï", english: "yogurt" }, { thai: "‡∏§‡∏î‡∏π‡∏´‡∏ô‡∏≤‡∏ß", english: "winter" }, { thai: "‡πÄ‡∏£‡πá‡∏ß", english: "fast" }, { thai: "‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å", english: "feel" }, { thai: "‡∏Ç‡∏ß‡πâ‡∏≤‡∏á", english: "pitch" }, { thai: "‡∏´‡∏•‡∏±‡∏á‡∏Ñ‡∏≤", english: "roof" }, { thai: "‡∏´‡∏ô‡πâ‡∏≤", english: "page" }, { thai: "‡∏ï‡∏µ‡∏Å‡πâ‡∏ô‡∏•‡∏á‡πÇ‡∏ó‡∏©", english: "spank" }, { thai: "‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏ó‡∏≥", english: "action" }, { thai: "‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢", english: "aim" }, { thai: "‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö", english: "answer" }, { thai: "‡πÑ‡∏°‡πà‡∏î‡∏µ", english: "bad" }, { thai: "‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£", english: "bank" }, { thai: "‡∏ú‡∏∂‡πâ‡∏á", english: "bee" }, { thai: "‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏¢", english: "body" }, { thai: "‡∏´‡∏°‡∏ß‡∏Å", english: "cap" }, { thai: "‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå", english: "car" }, { thai: "‡∏ù‡∏≤‡∏õ‡∏¥‡∏î", english: "cover" }, { thai: "‡∏ï‡∏≤‡∏¢", english: "die" }, { thai: "‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏Ñ‡πà‡∏≥", english: "dinner" }, { thai: "‡πÄ‡∏û‡∏•‡∏¥‡∏î‡πÄ‡∏û‡∏•‡∏¥‡∏ô", english: "enjoy" }],
            // Level 10
            [{ thai: "‡πÑ‡∏Å‡∏•", english: "far" }, { thai: "‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô", english: "clear" }, { thai: "‡πÄ‡∏î‡πá‡∏Å‡∏ú‡∏π‡πâ‡∏´‡∏ç‡∏¥‡∏á", english: "girl" }, { thai: "‡πÉ‡∏´‡πâ", english: "give" }, { thai: "‡πÑ‡∏î‡πâ‡∏¢‡∏¥‡∏ô", english: "hear" }, { thai: "‡πÄ‡∏à‡πâ‡∏≤‡∏†‡∏≤‡∏û,‡πÄ‡∏à‡πâ‡∏≤‡∏ö‡πâ‡∏≤‡∏ô", english: "host" }, { thai: "‡πÄ‡πÄ‡∏°‡∏•‡∏á", english: "insects" }, { thai: "‡∏ß‡πà‡∏≤‡∏ß", english: "kite" }, { thai: "‡πÄ‡∏î‡πá‡∏Å", english: "kid" }, { thai: "‡∏Ç‡∏≤", english: "leg" }, { thai: "‡∏™‡∏¥‡∏á‡πÇ‡∏ï", english: "lion" }, { thai: "‡∏£‡∏≠‡∏¢‡πÅ‡∏ú‡∏•‡πÄ‡∏õ‡πá‡∏ô", english: "mark" }, { thai: "‡πÄ‡∏™‡∏∑‡πà‡∏≠,‡∏ó‡∏µ‡πà‡∏£‡∏≠‡∏á", english: "mat" }, { thai: "‡πÉ‡∏´‡∏°‡πà", english: "new" }, { thai: "‡πÄ‡∏õ‡∏¥‡∏î", english: "open" }, { thai: "‡∏ú‡πà‡∏≤‡∏ô", english: "pass" }, { thai: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏á‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢", english: "peace" }, { thai: "‡∏™‡∏µ‡πÅ‡∏î‡∏á", english: "red" }, { thai: "‡∏£‡∏ß‡∏¢", english: "rich" }, { thai: "‡∏´‡∏ô‡πà‡∏ß‡∏¢", english: "unit" }, { thai: "‡∏ô‡πà‡∏≤‡∏Å‡∏•‡∏±‡∏ß", english: "scary" }, { thai: "‡πÄ‡∏°‡∏•‡πá‡∏î", english: "seed" }, { thai: "‡∏î‡πâ‡∏≤‡∏ô‡∏Ç‡πâ‡∏≤‡∏á", english: "side" }, { thai: "‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î", english: "all" }, { thai: "‡∏Ç‡πâ‡∏≠‡∏™‡∏≠‡∏ö", english: "test" }, { thai: "‡πÄ‡∏•‡πá‡∏Å‡∏°‡∏≤‡∏Å", english: "tiny" }, { thai: "‡∏Ç‡∏∂‡πâ‡∏ô", english: "up" }, { thai: "‡πÑ‡∏ß‡πÇ‡∏≠‡∏•‡∏¥‡∏ô", english: "violin" }, { thai: "‡∏ú‡∏ô‡∏±‡∏á", english: "wall" }, { thai: "‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£", english: "want" }, { thai: "‡∏Ç‡πâ‡∏≤‡∏á‡πÉ‡∏ô", english: "inside" }]
        ];
        
        // ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡πà‡∏≤‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ Firebase ‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà
        const firebaseConfig = {
            databaseURL: "https://my-word-game-leaderboard-default-rtdb.asia-southeast1.firebasedatabase.app/",
        };
        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();
        const mcLeaderboardRef = database.ref('leaderboard');
        const matchingLeaderboardRef = database.ref('matchingleaderboard');
        const playersRef = database.ref('players');

        // ‡∏™‡∏£‡πâ‡∏≤‡∏á Audio Context ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏™‡∏µ‡∏¢‡∏á
        const audioContext = new (window.AudioContext || window.webkitAudioContext)();
        function playSound(isCorrect) {
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            if (isCorrect) {
                oscillator.type = 'sine';
                oscillator.frequency.value = 880;
                gainNode.gain.setValueAtTime(0.5, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 0.3);
            } else {
                oscillator.type = 'square';
                oscillator.frequency.value = 220;
                gainNode.gain.setValueAtTime(0.5, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 0.3);
            }
            oscillator.start();
            oscillator.stop(audioContext.currentTime + 0.3);
        }

        let currentLevel = 0;
        let score = 0;
        let timerInterval;
        const timeLimit = 10;
        let timeLeft = timeLimit;
        let currentQuestionIndex = 0;
        let currentWords = [];
        let totalTime = 0;
        let isPaused = false;
        
        // --- ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏´‡∏°‡∏î‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà ---
        let selectedButton = null;
        let matchingPairsFound = 0;
        let matchingTimer = 0;
        let matchingTimerInterval;
        const matchingTotalPairs = 6;
        
        // --- ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£ UI Elements ---
        const startScreen = document.getElementById('start-screen');
        const modeSelectScreen = document.getElementById('mode-select-screen');
        const nameInputScreen = document.getElementById('name-input-screen');
        const loginScreen = document.getElementById('login-screen');
        const levelSelectScreen = document.getElementById('level-select-screen');
        const gameArea = document.getElementById('game-area');
        const matchingGameArea = document.getElementById('matching-game-area');
        const resultScreen = document.getElementById('result-screen');
        const matchingResultScreen = document.getElementById('matching-result-screen');
        const startButton = document.getElementById('start-button');
        const resumeLastGameButton = document.getElementById('resume-last-game-button');
        const multipleChoiceModeButton = document.getElementById('multiple-choice-mode-button');
        const matchingModeButton = document.getElementById('matching-mode-button');
        const levelGrid = document.getElementById('level-grid');
        const questionElement = document.getElementById('question');
        const optionsContainer = document.getElementById('options-container');
        const scoreElement = document.getElementById('score');
        const countdownElement = document.getElementById('countdown');
        const finalScoreElement = document.getElementById('final-score');
        const levelDisplay = document.getElementById('level-display');
        const resultMessage = document.getElementById('result-message');
        const continueButton = document.getElementById('continue-button');
        const restartButton = document.getElementById('restart-button');
        const matchingRestartButton = document.getElementById('matching-restart-button');
        const playAgainMatchingButton = document.getElementById('play-again-matching-button');
        const pauseButton = document.getElementById('pause-button');
        const resumeButton = document.getElementById('resume-button');
        const homeButton = document.getElementById('home-button');
        const levelSelectButton = document.getElementById('level-select-button');
        const nameInput = document.getElementById('name-input');
        const submitNameButton = document.getElementById('submit-name-button');
        const loginNameInput = document.getElementById('login-name-input');
        const loginButton = document.getElementById('login-button');
        
        const mcLeaderboardBody = document.getElementById('mc-leaderboard-body');
        const matchingLeaderboardBody = document.getElementById('matching-leaderboard-body');
        const mcLeaderboardButton = document.getElementById('mc-leaderboard-button');
        const matchingLeaderboardButton = document.getElementById('matching-leaderboard-button');
        const mcLeaderboardTable = document.getElementById('mc-leaderboard-table');
        const matchingLeaderboardTable = document.getElementById('matching-leaderboard-table');
        
        const goToLoginButton = document.getElementById('go-to-login-button');
        const goToSignupButton = document.getElementById('go-to-signup-button');
        const goToHomeFromLevelSelectButton = document.getElementById('go-to-home-from-level-select');
        const goToHomeFromModeSelectButton = document.getElementById('go-to-home-from-mode-select');
        const matchingGrid = document.getElementById('matching-grid');
        const matchingFinalScore = document.getElementById('matching-final-score');
        const matchingCountdown = document.getElementById('matching-countdown');
        
        let currentPlayer = JSON.parse(localStorage.getItem('currentPlayer')) || null;
        
        function showScreen(screenId) {
            document.querySelectorAll('.container > div').forEach(div => div.style.display = 'none');
            document.getElementById(screenId).style.display = 'block';
        }

        function savePlayerState() {
            if (currentPlayer) {
                localStorage.setItem('currentPlayer', JSON.stringify(currentPlayer));
            }
        }

        function clearPlayerState() {
            localStorage.removeItem('currentPlayer');
            currentPlayer = null;
        }

        function getFakeOptions(correctAnswer) {
            const fakeOptions = [];
            const allEnglishWords = allWords.flat().map(w => w.english);
            while (fakeOptions.length < 3) {
                const randomWord = allEnglishWords[Math.floor(Math.random() * allEnglishWords.length)];
                if (randomWord !== correctAnswer.english && !fakeOptions.includes(randomWord)) {
                    fakeOptions.push(randomWord);
                }
            }
            return fakeOptions;
        }

        function startTimer() {
            if (isPaused) return;
            timeLeft = 10;
            countdownElement.textContent = timeLeft;
            timerInterval = setInterval(() => {
                if (isPaused) {
                    clearInterval(timerInterval);
                    return;
                }
                timeLeft--;
                countdownElement.textContent = Math.max(0, timeLeft);
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    totalTime += 10;
                    handleAnswer(null, currentWords[currentQuestionIndex - 1].english);
                }
            }, 1000);
        }
        
        function showNewQuestion() {
            clearInterval(timerInterval);
            if (currentQuestionIndex >= currentWords.length) {
                endLevel();
                return;
            }

            const currentWord = currentWords[currentQuestionIndex];
            questionElement.textContent = currentWord.thai;
            optionsContainer.innerHTML = '';
            
            const options = [currentWord.english, ...getFakeOptions(currentWord)];
            options.sort(() => Math.random() - 0.5);

            options.forEach(option => {
                const button = document.createElement('button');
                button.textContent = option;
                button.classList.add('option-button');
                button.addEventListener('click', () => handleAnswer(button, currentWord.english));
                optionsContainer.appendChild(button);
            });

            currentQuestionIndex++;
            startTimer();
        }

        function handleAnswer(clickedButton, correctAnswer) {
            clearInterval(timerInterval);
            let correct = false;
            if (clickedButton) {
                correct = (clickedButton.textContent === correctAnswer);
            }
            
            if (correct) {
                score++;
                totalTime += (10 - timeLeft);
                playSound(true);
            } else {
                playSound(false);
            }
            
            scoreElement.textContent = `‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: ${score}`;
            
            Array.from(optionsContainer.children).forEach(button => {
                button.disabled = true;
                if (button.textContent === correctAnswer) {
                    button.classList.add('correct');
                } else if (clickedButton && button === clickedButton) {
                    button.classList.add('wrong');
                }
            });
            
            setTimeout(showNewQuestion, 1500);
        }

        function startLevel(level) {
            currentLevel = level;
            score = 0;
            totalTime = 0;
            currentQuestionIndex = 0;
            currentWords = allWords[currentLevel - 1].sort(() => Math.random() - 0.5);
            levelDisplay.textContent = `‡πÄ‡∏•‡πÄ‡∏ß‡∏•: ${currentLevel}`;
            scoreElement.textContent = `‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: ${score}`;
            showScreen('game-area');
            showNewQuestion();
        }
        
        function endLevel() {
            clearInterval(timerInterval);
            showScreen('result-screen');
            finalScoreElement.textContent = `${score}`;
            if (score >= 20) {
                resultMessage.textContent = '‡∏Ñ‡∏∏‡∏ì‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏•‡πÄ‡∏ß‡∏•‡∏ô‡∏µ‡πâ‡πÅ‡∏•‡πâ‡∏ß!';
                continueButton.style.display = 'block';
                // Check if player can unlock the next level
                if (currentPlayer && currentLevel < allWords.length) {
                    const nextLevel = currentLevel + 1;
                    if (nextLevel > currentPlayer.unlockedLevels) {
                        currentPlayer.unlockedLevels = nextLevel;
                        playersRef.child(currentPlayer.id).update({ unlockedLevels: nextLevel });
                        savePlayerState();
                    }
                }
            } else {
                resultMessage.textContent = '‡∏•‡∏≠‡∏á‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ô‡∏∞! ‡∏™‡∏π‡πâ‡πÜ!';
                continueButton.style.display = 'none';
            }
            
            // Save final score to leaderboard
            if (currentPlayer) {
                const newScoreRef = mcLeaderboardRef.push();
                newScoreRef.set({
                    id: currentPlayer.id,
                    name: currentPlayer.name,
                    level: currentLevel,
                    score: score,
                    time: totalTime,
                    timestamp: firebase.database.ServerValue.TIMESTAMP
                });
            }
        }
        
        function populateLevelSelect() {
            levelGrid.innerHTML = '';
            const maxLevels = allWords.length;
            const unlockedLevels = currentPlayer ? currentPlayer.unlockedLevels : 1;
            for (let i = 1; i <= maxLevels; i++) {
                const button = document.createElement('button');
                button.textContent = i;
                button.classList.add('level-button');
                if (i <= unlockedLevels) {
                    button.addEventListener('click', () => {
                        startLevel(i);
                    });
                } else {
                    button.classList.add('locked');
                    button.textContent = 'üîí';
                }
                levelGrid.appendChild(button);
            }
        }

        function fetchMCLeaderboard() {
            mcLeaderboardRef.orderByChild('timestamp').limitToLast(10).on('value', (snapshot) => {
                const scores = [];
                snapshot.forEach((childSnapshot) => {
                    const scoreData = childSnapshot.val();
                    scores.push(scoreData);
                });
                
                scores.sort((a, b) => {
                    if (b.level !== a.level) {
                        return b.level - a.level;
                    }
                    if (b.score !== a.score) {
                        return b.score - a.score;
                    }
                    return a.time - b.time;
                });
                
                mcLeaderboardBody.innerHTML = '';
                scores.forEach((score, index) => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${index + 1}</td>
                        <td>${score.name}</td>
                        <td>${score.level}</td>
                        <td>${score.score}</td>
                        <td>${score.time}s</td>
                    `;
                    mcLeaderboardBody.appendChild(row);
                });
            });
        }
        
        function fetchMatchingLeaderboard() {
            matchingLeaderboardRef.orderByChild('time').limitToFirst(10).on('value', (snapshot) => {
                const scores = [];
                snapshot.forEach((childSnapshot) => {
                    const scoreData = childSnapshot.val();
                    scores.push(scoreData);
                });
                
                scores.sort((a, b) => a.time - b.time);
                
                matchingLeaderboardBody.innerHTML = '';
                scores.forEach((score, index) => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${index + 1}</td>
                        <td>${score.name}</td>
                        <td>${score.time}s</td>
                    `;
                    matchingLeaderboardBody.appendChild(row);
                });
            });
        }
        
        // --- Functions for Matching Game Mode ---
        
        function getRandomMatchingWords() {
            const allWordsFlat = allWords.flat();
            // Shuffle the entire list of words
            for (let i = allWordsFlat.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [allWordsFlat[i], allWordsFlat[j]] = [allWordsFlat[j], allWordsFlat[i]];
            }
            // Take the first 6 words to create the pairs for this round
            return allWordsFlat.slice(0, 6);
        }

        function startMatchingGame() {
            showScreen('matching-game-area');
            matchingPairsFound = 0;
            matchingTimer = 0;
            selectedButton = null;
            matchingGrid.innerHTML = '';
            
            // Get 6 random words and their translations
            const wordsToMatch = getRandomMatchingWords();
            
            // Combine English and Thai into a single list and shuffle it
            const allButtons = [];
            wordsToMatch.forEach(wordPair => {
                allButtons.push({ type: 'english', text: wordPair.english, match: wordPair.thai });
                allButtons.push({ type: 'thai', text: wordPair.thai, match: wordPair.english });
            });

            // Shuffle the buttons again
            allButtons.sort(() => Math.random() - 0.5);

            // Create and display the buttons
            allButtons.forEach(item => {
                const button = document.createElement('button');
                button.textContent = item.text;
                button.classList.add('matching-button');
                button.dataset.match = item.match; // Store the matching word in a data attribute
                button.addEventListener('click', () => handleMatchingClick(button));
                matchingGrid.appendChild(button);
            });
            
            // Start the timer
            matchingTimer = 0;
            matchingCountdown.textContent = matchingTimer;
            clearInterval(matchingTimerInterval); // Clear any previous timer
            matchingTimerInterval = setInterval(() => {
                matchingTimer++;
                matchingCountdown.textContent = matchingTimer;
            }, 1000);
        }
        
        function handleMatchingClick(clickedButton) {
            if (clickedButton.classList.contains('matched')) {
                return; // Do nothing if the button is already matched
            }

            // If no button is selected yet
            if (!selectedButton) {
                selectedButton = clickedButton;
                selectedButton.classList.add('selected');
                playSound(true); // A simple sound to indicate selection
            } else {
                // If the same button is clicked again, deselect it
                if (selectedButton === clickedButton) {
                    selectedButton.classList.remove('selected');
                    selectedButton = null;
                    return;
                }
                
                // A second button is clicked, check for a match
                const isMatch = selectedButton.dataset.match === clickedButton.textContent || clickedButton.dataset.match === selectedButton.textContent;
                
                if (isMatch) {
                    // Correct match
                    selectedButton.classList.remove('selected');
                    selectedButton.classList.add('correct');
                    clickedButton.classList.add('correct');
                    selectedButton.classList.add('matched');
                    clickedButton.classList.add('matched');
                    selectedButton.disabled = true;
                    clickedButton.disabled = true;
                    selectedButton = null;
                    matchingPairsFound++;
                    playSound(true); // Correct sound
                    
                    if (matchingPairsFound === matchingTotalPairs) {
                        endMatchingGame();
                    }
                } else {
                    // Wrong match
                    selectedButton.classList.remove('selected');
                    clickedButton.classList.add('wrong');
                    playSound(false); // Wrong sound
                    setTimeout(() => {
                        clickedButton.classList.remove('wrong');
                        selectedButton.classList.remove('wrong');
                        selectedButton = null;
                    }, 500); // Briefly show the wrong answer
                }
            }
        }
        
        function endMatchingGame() {
            clearInterval(matchingTimerInterval);
            showScreen('matching-result-screen');
            matchingFinalScore.textContent = `${matchingTimer} ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ`;
            
            // Save matching game score to matchingLeaderboard
            if (currentPlayer) {
                const newScoreRef = matchingLeaderboardRef.push();
                newScoreRef.set({
                    id: currentPlayer.id,
                    name: currentPlayer.name,
                    time: matchingTimer,
                    timestamp: firebase.database.ServerValue.TIMESTAMP
                });
            }
        }

        // --- Event Listeners and Initial Load ---
        startButton.addEventListener('click', () => {
             if (currentPlayer) {
                showScreen('mode-select-screen');
            } else {
                showScreen('name-input-screen');
            }
        });
        
        multipleChoiceModeButton.addEventListener('click', () => {
            showScreen('level-select-screen');
            populateLevelSelect();
        });
        
        matchingModeButton.addEventListener('click', () => {
            startMatchingGame();
        });

        submitNameButton.addEventListener('click', () => {
            const name = nameInput.value.trim();
            if (name) {
                playersRef.push({ name: name, unlockedLevels: 1 })
                    .then((snapshot) => {
                        currentPlayer = { id: snapshot.key, name: name, unlockedLevels: 1 };
                        savePlayerState();
                        showScreen('mode-select-screen');
                    });
            } else {
                alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì!');
            }
        });

        loginButton.addEventListener('click', () => {
            const name = loginNameInput.value.trim();
            if (name) {
                playersRef.orderByChild('name').equalTo(name).once('value', (snapshot) => {
                    const players = snapshot.val();
                    if (players) {
                        const playerId = Object.keys(players)[0];
                        currentPlayer = { id: playerId, ...players[playerId] };
                        savePlayerState();
                        alert(`‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡∏Å‡∏•‡∏±‡∏ö, ${currentPlayer.name}!`);
                        showScreen('mode-select-screen');
                    } else {
                        alert('‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ô‡∏µ‡πâ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏ä‡∏∑‡πà‡∏≠‡πÉ‡∏´‡∏°‡πà');
                        showScreen('name-input-screen');
                    }
                });
            } else {
                alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì!');
            }
        });
        
        resumeLastGameButton.addEventListener('click', () => {
            if (currentPlayer) {
                showScreen('level-select-screen');
                populateLevelSelect();
            }
        });
        
        goToLoginButton.addEventListener('click', () => showScreen('login-screen'));
        goToSignupButton.addEventListener('click', () => showScreen('name-input-screen'));
        goToHomeFromLevelSelectButton.addEventListener('click', () => showScreen('start-screen'));
        goToHomeFromModeSelectButton.addEventListener('click', () => showScreen('start-screen'));

        continueButton.addEventListener('click', () => {
            if (currentLevel < allWords.length) {
                startLevel(currentLevel + 1);
            } else {
                alert('‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏Å‡πà‡∏á‡∏°‡∏≤‡∏Å! ‡πÄ‡∏•‡πà‡∏ô‡∏à‡∏ö‡∏ó‡∏∏‡∏Å‡πÄ‡∏•‡πÄ‡∏ß‡∏•‡πÅ‡∏•‡πâ‡∏ß!');
                showScreen('level-select-screen');
                populateLevelSelect();
            }
        });
        
        restartButton.addEventListener('click', () => {
            showScreen('level-select-screen');
            populateLevelSelect();
        });
        
        matchingRestartButton.addEventListener('click', () => showScreen('start-screen'));
        
        playAgainMatchingButton.addEventListener('click', () => startMatchingGame());
        
        mcLeaderboardButton.addEventListener('click', () => {
            mcLeaderboardButton.classList.add('active');
            matchingLeaderboardButton.classList.remove('active');
            mcLeaderboardTable.classList.remove('hidden-table');
            matchingLeaderboardTable.classList.add('hidden-table');
            fetchMCLeaderboard();
        });
        
        matchingLeaderboardButton.addEventListener('click', () => {
            matchingLeaderboardButton.classList.add('active');
            mcLeaderboardButton.classList.remove('active');
            matchingLeaderboardTable.classList.remove('hidden-table');
            mcLeaderboardTable.classList.add('hidden-table');
            fetchMatchingLeaderboard();
        });

        pauseButton.addEventListener('click', () => {
            isPaused = true;
            clearInterval(timerInterval);
            resumeButton.style.display = 'inline-block';
            levelSelectButton.style.display = 'inline-block';
            homeButton.style.display = 'inline-block';
            pauseButton.style.display = 'none';
        });

        resumeButton.addEventListener('click', () => {
            isPaused = false;
            startTimer();
            resumeButton.style.display = 'none';
            levelSelectButton.style.display = 'none';
            homeButton.style.display = 'none';
            pauseButton.style.display = 'inline-block';
        });

        // Initial load
        document.addEventListener('DOMContentLoaded', () => {
            if (currentPlayer) {
                resumeLastGameButton.style.display = 'inline-block';
            } else {
                resumeLastGameButton.style.display = 'none';
            }
            fetchMCLeaderboard();
            showScreen('start-screen');
        });
    </script>

</body>
</html>
